
	
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <!-- Application: Encore 4.6 SP3 -->
    <!-- Page: PatronAccountPage -->
    <!-- Generated: Fri Mar 06 16:17:05 EST 2020 -->
    <html>
    <head>
    <meta name="generator" content="Tapestry Application Framework, version 4.1.6-SNAPSHOT" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>Encore</title>
    <meta id="emViewport" name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no" />
    <base href="https://browse.nypl.org/iii/encore/"></base>
    <script type="text/javascript" src="https://browse.nypl.org:443/iii/encore/resources/js/jquery-1.7.2.min.js"></script>
    <SCRIPT TYPE="TEXT/JAVASCRIPT">function onTimeout(){
    var href = "https://browse.nypl.org:443/iii/encore/logoutFilterRedirect?suite=def";
    self.document.location.href = href;
    }
    var timeoutTimer = null;
    function renewSession() {
    clearInterval(timeoutTimer);
    timeoutTimer = setTimeout(onTimeout, 1800000);}
    window.onload = function() {
    renewSession();
    }
    </SCRIPT>
    <SCRIPT TYPE="TEXT/JAVASCRIPT">window['adrum-start-time'] = new Date().getTime();</SCRIPT>
    <SCRIPT TYPE="TEXT/JAVASCRIPT" SRC="https://browse.nypl.org:443/iii/encore/resources/js/adrum.js"></SCRIPT>
    <SCRIPT TYPE="TEXT/JAVASCRIPT" SRC="https://browse.nypl.org:443/iii/encore/resources/js/googleMaps.js"></SCRIPT>
    <SCRIPT TYPE="TEXT/JAVASCRIPT" SRC="https://browse.nypl.org:443/iii/encore/resources/gold/js/ToggleWidget.js"></SCRIPT>
    <SCRIPT TYPE="TEXT/JAVASCRIPT" SRC="https://browse.nypl.org:443/iii/encore/resources/js/encore-deploy.js"></SCRIPT>
    <!--[if IE 7]><LINK TYPE="text/css" REL="stylesheet" HREF="https://browse.nypl.org:443/iii/encore/resources/gold/css/dpstyles_ie7.css"></LINK>
    <![endif]--><SCRIPT TYPE="TEXT/JAVASCRIPT" SRC="https://browse.nypl.org:443/iii/encore/resources/gold/js/toggle.js"></SCRIPT>
    <script type="text/javascript">
    djConfig = {"parseOnLoad":true,"blankGif":"resources/mobile/images/mobileSprite.png"}
    </script>
    <script type="text/javascript" src="/iii/encore/resources/js/dojo/dojo.js"></script>
    <script type="text/javascript" src="/iii/encore/resources/js/dojo/encore.js"></script>
    <script type="text/javascript" src="/iii/encore/resources/js/tapestry/tapestry.js"></script>
    
    <script type="text/javascript">
    dojo.require("tapestry.namespace");
    tapestry.requestEncoding='UTF-8';
    </script>
    <link rel="stylesheet" type="text/css" href="resources/gold/css/dpstyles.css" />
    <link rel="stylesheet" type="text/css" href="local/gold/css/iiistyles.css" />
    <link rel="shortcut icon" type="image/x-icon" href="https://browse.nypl.org:443/iii/encore/resources/gold/images/favicon.ico" />
    </head>
            
    <body class="tundra patronAccountPage customPatronAccountPage gold" id="bodyComponent">
    <script type="text/javascript"><!--
    dojo.require("mojo.tooltip");
    try {
        document.domain = "nypl.org";
    } catch(e) {}
    dojo.require("tapestry.dialog");
    var de = [];
            
            var doBind = function(x) {
            
                var deferred = tapestry.bind(x.url, {beventname: 'ajaxOnloadStart', bcomponentidpath: x.componentExId, bcomponentid: x.componentId, sequenceid: x.sequenceId});
                
            }
        
        
        de[de.length] = { "url" : '/iii/encore/home?component=ajaxBatchStarterUrgentComponent.batchStarterAnyComponent&lang=eng&page=PatronAccountPage&service=directevent&session=T&suite=def',
                           "componentExId" : 'PatronAccountPage/ajaxBatchStarterUrgentComponent.batchStarterAnyComponent',
                           "componentId" : 'batchStarterAnyComponent',
                           "sequenceId" : ''};
    dojo.require("tapestry.event");
    // --></script>
                <span id="baseDirectionInsertComponent" dir="LTR">
                    
                    <noscript>
                        <meta http-equiv="refresh" content="0; URL=https://browse.nypl.org:443/iii/encore/resources/NoJavascriptPage.html" id="noScriptMetaRefreshComponent"></meta>
                    </noscript>
                    <div id="contentWrapper">
                    
                        <div id="customEncoreHeader">
                                <!-- NYPL customizations  v1.0.23 -->
    <script type="text/javascript" src="https://header.nypl.org/dgx-header.min.js?urls=absolute" async></script>
    
    <style>
    .restrainToMainColumn,.searchResultsPage #searchbox,.bookCartPage #searchbox,.patronAccountPage #searchbox,.noResultsPage #searchbox,.recordDetailPage #searchbox,#searchbox,.basicSearchbox,.spellingSuggestion,#contentColumn,.backToPrevious,#footerArea .footerBackToTopLink,#homepageFooterArea .footerBackToTopLink,#footerArea .footerContentContainer,#homepageFooterArea .footerContentContainer{margin:0 auto;width:1313px}.alignWithLogotype,.searchResultsPage #searchbox #searchFormComponent,.bookCartPage #searchbox #searchFormComponent,.patronAccountPage #searchbox #searchFormComponent,.noResultsPage #searchbox #searchFormComponent,.recordDetailPage #searchbox #searchFormComponent,.recordDetailPage #mainContentArea,#searchResultsAnyComponent,.backToPrevious #backToResultsLinkComponent,.backToPrevious #backToResultsImageAnyComponent,.noResultsPage #mainContentArea,#footerArea .footerContent,#homepageFooterArea .footerContent,.bookCartPage #mainContentArea,.accountSummary,.accountFunctions{margin-left:108px}@font-face{font-family:'MiloWeb';src:url("//ux-static.nypl.org/milo-web/milo-slab-pro-regular/MiloSlabWebPro.eot");src:url("//ux-static.nypl.org/milo-web/milo-slab-pro-regular/MiloSlabWebPro.eot?#iefix") format("embedded-opentype"),url("//ux-static.nypl.org/milo-web/milo-slab-pro-regular/MiloSlabWebPro.woff") format("woff")}@font-face{font-family:'system-ui';font-style:normal;font-weight:300;src:local(".SFNSText-Light"),local(".HelveticaNeueDeskInterface-Light"),local(".LucidaGrandeUI"),local("Segoe UI Light"),local("Ubuntu Light"),local("Roboto-Light"),local("DroidSans"),local("Tahoma")}@font-face{font-family:'system-ui';font-style:italic;font-weight:300;src:local(".SFNSText-LightItalic"),local(".HelveticaNeueDeskInterface-Italic"),local(".LucidaGrandeUI"),local("Segoe UI Light Italic"),local("Ubuntu Light Italic"),local("Roboto-LightItalic"),local("DroidSans"),local("Tahoma")}@font-face{font-family:'system-ui';font-style:normal;font-weight:400;src:local(".SFNSText-Regular"),local(".HelveticaNeueDeskInterface-Regular"),local(".LucidaGrandeUI"),local("Segoe UI"),local("Ubuntu"),local("Roboto-Regular"),local("DroidSans"),local("Tahoma")}@font-face{font-family:'system-ui';font-style:italic;font-weight:400;src:local(".SFNSText-Italic"),local(".HelveticaNeueDeskInterface-Italic"),local(".LucidaGrandeUI"),local("Segoe UI Italic"),local("Ubuntu Italic"),local("Roboto-Italic"),local("DroidSans"),local("Tahoma")}@font-face{font-family:'system-ui';font-style:normal;font-weight:500;src:local(".SFNSText-Medium"),local(".HelveticaNeueDeskInterface-MediumP4"),local(".LucidaGrandeUI"),local("Segoe UI Semibold"),local("Ubuntu Medium"),local("Roboto-Medium"),local("DroidSans-Bold"),local("Tahoma Bold")}@font-face{font-family:'system-ui';font-style:italic;font-weight:500;src:local(".SFNSText-MediumItalic"),local(".HelveticaNeueDeskInterface-MediumItalicP4"),local(".LucidaGrandeUI"),local("Segoe UI Semibold Italic"),local("Ubuntu Medium Italic"),local("Roboto-MediumItalic"),local("DroidSans-Bold"),local("Tahoma Bold")}@font-face{font-family:'system-ui';font-style:normal;font-weight:700;src:local(".SFNSText-Bold"),local(".HelveticaNeueDeskInterface-Bold"),local(".LucidaGrandeUI"),local("Segoe UI Bold"),local("Ubuntu Bold"),local("Roboto-Bold"),local("DroidSans-Bold"),local("Tahoma Bold")}@font-face{font-family:'system-ui';font-style:italic;font-weight:700;src:local(".SFNSText-BoldItalic"),local(".HelveticaNeueDeskInterface-BoldItalic"),local(".LucidaGrandeUI"),local("Segoe UI Bold Italic"),local("Ubuntu Bold Italic"),local("Roboto-BoldItalic"),local("DroidSans-Bold"),local("Tahoma Bold")}body{background-color:white;font-family:'system-ui', "Segoe UI", Tahoma;font-size:16px;font-weight:400}#customEncoreHeader{width:100%;position:relative;min-height:223px;z-index:1000;min-height:60px}@media only screen and (min-width: 768px){#customEncoreHeader{min-height:137px}}@media only screen and (min-width: 1024px){#customEncoreHeader{min-height:227px}}#bannertop{width:100%;min-height:20px;margin:15px auto 10px;max-width:1313px;text-align:right;float:none}@media only screen and (min-width: 768px){#bannertop{margin-top:20px}}#bannertop .myAccountInfo{float:none;padding:0px 15px 0 0}@media only screen and (min-width: 768px){#bannertop .myAccountInfo{padding-right:20px}}.milo-title,.dpBibTitle .title,.resultsSummary .browseHeader,.recordDetailPage .sectionHeader,.recordDetailPage .bibInfoHeader{font-family:"MiloWeb"}.system-ui-sc,#searchbox .searchText,.basicSearchbox .searchText,.gridBrowseContent2 .addtlInfo .addtlInfoItem{font-family:"system-ui";font-weight:400;font-style:uppercase}a{color:#1DA1D4}.homepageQueryContainer{margin:25px auto 150px;width:100%}.homepageQueryContainer .homepageQuery{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;border:none;border-top:2px solid #1da1d4;padding:0}.homepageQueryContainer #selectedCategory{border-style:solid solid none solid;border-width:2px;border-color:#1DA1D4;padding:20px 32px;position:relative;top:2px;font-size:14px;margin-left:-6px;display:inline-block;position:relative;left:108px}.homepageQueryContainer .contentCategory.content-Catalog{font-family:'system-ui';font-weight:700;text-transform:uppercase;color:#333}.homepageQueryContainer #searchbox{margin-top:80px;margin-left:142px;margin-left:0;margin-right:0;width:450px}.homepageQueryContainer #searchbox .searchText{font-size:20px;margin-right:26px}#searchbox,.basicSearchbox{float:none}#searchbox .searchText,.basicSearchbox .searchText{margin-top:13px;text-transform:lowercase}#searchbox .advSearch,.basicSearchbox .advSearch{font-family:'system-ui', "Segoe UI", Tahoma;margin-top:14px;font-weight:400}#searchbox #searchString,#searchbox input.targetInput,.basicSearchbox #searchString,.basicSearchbox input.targetInput{width:218px;border:2px solid #8f8f8f;font-size:18px;border-radius:3px;font-family:'system-ui', "Segoe UI", Tahoma;font-weight:400;padding:12px;font-style:italic;color:#333}.gridBrowseContent2{border-bottom:2px solid #b2b2b2;padding:35px 0;border-left:none;border-right:none}.gridBrowseContent2:hover{webkit-box-shadow:none;box-shadow:none;border-left:none;border-right:none}.gridBrowseContent2 .addtlInfo{background:#fff}.gridBrowseContent2 .addtlInfo .addtlInfoItem{margin:5px;display:inline-block;text-transform:uppercase;font-style:normal;font-weight:normal}.gridBrowseContent2 .itemBookCover{padding-right:24px}.dpBibTitle .title{font-size:30px;font-weight:normal;line-height:27px}.dpBibTitle .title a{color:#333}.dpBibTitle .title a:hover,.dpBibTitle .title a:active{color:#1DA1D4}.dpBibTitle .dpBibAuthor{margin-top:10px}.searchResult .addtlActions,.searchResult .citationButtons .button.secondaryAction,.searchResult .citationButtons #advancedSearchForm form .secondaryAction#resetLinkSubmitComponent,#advancedSearchForm form .searchResult .citationButtons .secondaryAction#resetLinkSubmitComponent,.searchResult .citationButtons .secondaryAction#modPinPopupWindowLinkComponent,.searchResult img.actionIcon{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100);opacity:1}.recordDetailValue{margin:10px 0 0}.recordDetailValue img.itemMediaIcon{display:none}.spellingSuggestion{position:relative;left:108px;padding:20px 0 22px;font-style:normal;clear:both;font-size:19px}.spellingSuggestion a{color:#ED1C24;text-decoration:underline}#resultsAnyComponent .customSecondaryText{color:#000;font-family:'system-ui', "Segoe UI", Tahoma;font-size:1.2rem;font-weight:400}.resultsSummary{border-top:none}#contentWrapper,#homepageContentWrapper{width:auto;box-shadow:none;-webkit-box-shadow:none;-moz-box-shadow:none}#contentWrapper #searchbox,#homepageContentWrapper #searchbox{width:auto}#contentColumn #leftColumn{background-color:transparent;padding-left:0;text-align:right}#contentColumn #leftColumn .sectionHeader{border-top:2px solid #E43534;border-bottom:none;text-align:right;font-size:20px;font-family:'system-ui', "Segoe UI", Tahoma;font-weight:400;padding-top:16px;width:inherit}@media (max-width: 734px){#contentColumn #leftColumn .sectionHeader{width:auto;font-size:14px}}#contentColumn #leftColumn #authoritySuggestions a,#contentColumn #leftColumn .expandTags a{margin-bottom:12px}.facetType{margin-bottom:20px}.facetType .toggleContent{margin-top:20px}.facetType p{margin-bottom:8px}#searchResultsAnyComponent #mainContentArea{width:1030px}.noResultsPage #mainContentArea{width:85%}.noResultsPage #mainContentArea .resultsSummary{float:none}.noResultsPage #mainContentArea .tryAgainMessage{padding-bottom:25px;line-height:1.75em}#footerArea,#homepageFooterArea{width:auto;background-color:#54514b}#footerArea .customHeader,#footerArea a,#homepageFooterArea .customHeader,#homepageFooterArea a{color:white;font-family:'system-ui', "Segoe UI", Tahoma;font-weight:400}#footerArea .footerBackToTopLink,#homepageFooterArea .footerBackToTopLink{display:block;position:relative;left:108px;color:black}#footerArea .footerContentContainer,#homepageFooterArea .footerContentContainer{border:none}@media (max-width: 1280px){#footerArea .footerContentContainer,#homepageFooterArea .footerContentContainer{width:auto}}#footerArea .footerContent,#homepageFooterArea .footerContent{border:none}@media (max-width: 767px){#footerArea .footerContent,#homepageFooterArea .footerContent{margin-left:15px}}@media (max-width: 767px){#footerArea .footerColumn1,#footerArea .footerColumn2,#footerArea .footerColumn3,#footerArea .footerColumn4,#homepageFooterArea .footerColumn1,#homepageFooterArea .footerColumn2,#homepageFooterArea .footerColumn3,#homepageFooterArea .footerColumn4{float:none;width:auto}}@media (max-width: 820px){#footerArea .footerColumn4,#homepageFooterArea .footerColumn4{width:200px}}@media (max-width: 767px){#footerArea .footerColumn4,#homepageFooterArea .footerColumn4{width:auto;min-height:inherit;border-right:none;border-top:1px solid #b2b2b2}}@media (max-width: 479px){#footerArea #mobileSiteLinkComponent,#homepageFooterArea #mobileSiteLinkComponent{display:block;padding:30px 0;font-size:20px;text-align:center}}@media (max-width: 479px){#footerArea .myAccountBar,#homepageFooterArea .myAccountBar{display:none}}.itemTableWrapper.popUpContentWrapper{height:200px;overflow:scroll}#advancedSearchForm form{font-size:16px;font-family:'system-ui', "Segoe UI", Tahoma;font-weight:400}#advancedSearchForm form input,#advancedSearchForm form select{font-size:16px;font-family:'system-ui', "Segoe UI", Tahoma;font-weight:400}@media (max-width: 734px){#advancedSearchArea{width:100%}}#advancedSearchArea #advancedSearchForm form #resetLinkSubmitComponent{padding-top:4px}.bookCartPage #mainContentArea{border-top:1px solid #b2b2b2}@media (max-width: 900px){.bookCartPage #mainContentArea,.bookCartPage .gridBrowseCol2{width:100%}}.accountSummary{border-top:none}.accountSummary h2{font-family:"MiloWeb"}.patronAccountPage #accountFunctionsContentWrapper{float:left;margin-top:20px;width:auto}@media (max-width: 900px){.patronAccountPage #accountFunctionsContentWrapper{width:100%}}.patronAccountPage .patron-function-print-link-container{position:relative;right:0;width:auto}@media (max-width: 1023px){.patronAccountPage #accountContentIframe{width:670px}}@media (max-width: 900px){.patronAccountPage #accountContentIframe{width:100%}}.button,#advancedSearchForm form #resetLinkSubmitComponent,#modPinPopupWindowLinkComponent{border:2px solid #2799c5;border-radius:25px;color:#2799c5;background-color:white;background-image:none;padding:10px 15px 0 17px;margin-bottom:5px;text-transform:uppercase;font-size:0.70rem;min-height:19px;display:table-cell;vertical-align:middle;text-align:center;-webkit-box-shadow:none;box-shadow:none}.button:hover,#advancedSearchForm form #resetLinkSubmitComponent:hover,#modPinPopupWindowLinkComponent:hover{background:#2799c5;color:#fff}.button img,#advancedSearchForm form #resetLinkSubmitComponent img,#modPinPopupWindowLinkComponent img{display:none}.secondaryActionButton,#advancedSearchArea #advancedSearchForm form #resetLinkSubmitComponent,#modPinPopupWindowLinkComponent{font-size:0.85rem;position:relative;left:10px}#modPinPopupWindowLinkComponent{padding-top:2px}.citationButtons .button.secondaryAction,.citationButtons #advancedSearchForm form .secondaryAction#resetLinkSubmitComponent,#advancedSearchForm form .citationButtons .secondaryAction#resetLinkSubmitComponent,.citationButtons .secondaryAction#modPinPopupWindowLinkComponent{display:table-cell;padding:12px 17px 10px}a.footerBackToTopLink{display:inline !important}@media (max-width: 900px){.gridBrowseCol1{float:left;width:100%;-webkit-box-ordinal-group:2;-moz-box-ordinal-group:2;-ms-flex-order:2;-webkit-order:2;order:2}}@media (max-width: 1152px){.alignWithLogotype,.searchResultsPage #searchbox #searchFormComponent,.bookCartPage #searchbox #searchFormComponent,.patronAccountPage #searchbox #searchFormComponent,.noResultsPage #searchbox #searchFormComponent,.recordDetailPage #searchbox #searchFormComponent,.recordDetailPage #mainContentArea,#searchResultsAnyComponent,.backToPrevious #backToResultsLinkComponent,.backToPrevious #backToResultsImageAnyComponent,.noResultsPage #mainContentArea,#footerArea .footerContent,#homepageFooterArea .footerContent,.bookCartPage #mainContentArea,.accountSummary,.accountFunctions,.searchResultsPage #searchbox #searchFormComponent,.bookCartPage #searchbox #searchFormComponent,.patronAccountPage #searchbox #searchFormComponent,.noResultsPage #searchbox #searchFormComponent,.recordDetailPage #mainContentArea,#searchResultsAnyComponent,.backToPrevious #backToResultsLinkComponent,.backToPrevious #backToResultsImageAnyComponent,.noResultsPage #mainContentArea,#footerArea .footerContent,#homepageFooterArea .footerContent,.bookCartPage #mainContentArea,.accountSummary,.accountFunctions{margin-left:20px}}.restrainToMainColumn,.searchResultsPage #searchbox,.bookCartPage #searchbox,.patronAccountPage #searchbox,.noResultsPage #searchbox,.recordDetailPage #searchbox,#searchbox,.basicSearchbox,.spellingSuggestion,#contentColumn,.backToPrevious,#footerArea .footerBackToTopLink,#homepageFooterArea .footerBackToTopLink,#footerArea .footerContentContainer,#homepageFooterArea .footerContentContainer,.searchResultsPage #searchbox,.bookCartPage #searchbox,.patronAccountPage #searchbox,.noResultsPage #searchbox,#searchbox,.basicSearchbox,.spellingSuggestion,#contentColumn,.backToPrevious,#footerArea .footerBackToTopLink,#homepageFooterArea .footerBackToTopLink,#footerArea .footerContentContainer,#homepageFooterArea .footerContentContainer{width:100%;max-width:1313px}#mainContentArea{float:left}#searchResultsAnyComponent #mainContentArea{width:85%}@media (max-width: 1313px){#searchResultsAnyComponent #mainContentArea{width:70%}}#homepageContentWrapper #searchbox{width:auto}.gridBrowseCol2{width:auto}@media (max-width: 900px){.gridBrowseCol2{-webkit-box-ordinal-group:1;-moz-box-ordinal-group:1;-ms-flex-order:1;-webkit-order:1;order:1}}@media (max-width: 900px){.gridBrowseContent2{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-moz-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start}}@media (max-width: 1152px){.accountSummaryColumn:first-child{width:auto}}@media (max-width: 734px){.accountSummaryColumn{margin-left:0;margin-top:20px}}#popInContentWrapper input[type="text"],#popInContentWrapper .inputProxy{width:200px}@media (max-width: 734px){.itemBookCover,.dpBibTitle,.bookCartPage .checkboxLink{display:block}}.searchResult .bibHoldingsWrapper table{font-size:10px}@media (max-width: 734px){#leftColumn{width:20%}}@media (max-width: 734px){#facetGroupIdAnyComponent{font-size:11px}}@media (max-width: 734px){#relatedSearchTagsHeader{font-size:11px}}@media (max-width: 734px){.expandTags a span{font-size:9px}}@media (max-width: 734px){#popInDialogUpdateAnyComponent{padding:10px;min-height:auto;min-width:auto}}@media (max-width: 900px){#popInDialogUpdateAnyComponent.batchPopIn{min-width:0}}@media (max-width: 900px) and (max-width: 900px){#popInDialogUpdateAnyComponent.batchPopIn form{float:none;border-right:none}}@media (max-width: 900px) and (max-width: 900px){#popInDialogUpdateAnyComponent.batchPopIn .batchItemsListWrapper{margin-top:20px}}@media (max-width: 900px){#rightColumn{float:none;margin:0 0 50px 20px}}@media (max-width: 734px){#actionToolbar .toolbarItem{margin:5px 10px 5px 0;display:inline-block}}@media (max-width: 734px){#searchbox .searchText,.basicSearchbox .searchText{display:block}}@media (max-width: 900px){.dialogContent{margin:0;width:100%}}@media (max-width: 734px){.dialogContent.logoutDialog,.dialogContent.patronDialog,.dialogContent.clearBookcart{width:auto}}@media (max-width: 734px){.facetType omg{display:none}}@media (max-width: 734px){#currentRefinementWrapper{width:auto;margin-left:0}}@media (max-width: 734px){.currentRefinementHeader{width:auto}}@media (max-width: 734px){#advancedSearchForm form input,#advancedSearchForm form select{margin-bottom:8px}}@media (max-width: 734px){.searchTextField,.searchTextFieldAdd{width:95%}}@media (max-width: 734px){.searchType,.searchTypeAdd{width:100%}}@media (max-width: 734px){.searchContent{width:80%}}@media (max-width: 734px){.searchInput input{width:90%}}@media (max-width: 734px){.patronAccountPage .patron-function-print-link-container{padding-right:10px}}@media (max-width: 900px){.currentAccountFunction .accountFunctionsMenu{width:100%}.currentAccountFunction .accountFunctionsMenu a{display:inline-block;font-size:14px}}@media (max-width: 734px){#facetcloudtoggle1{display:none}}@media (max-width: 734px){.requestForm #pickupSelectArea,.requestForm #mailSelectArea{padding-left:0}}@media (max-width: 734px){.dpAlert{float:none}}.recordDetailPage #mainContentArea{width:70%}#searchbox #searchString,#searchbox input.targetInput{width:90%}.basicSearchbox #searchString,.basicSearchbox input.targetInput{width:65%}
    
    </style>
    
    <!-- js-cookie -->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <!-- End js-cookie -->
    
    <script src="//cdn.optimizely.com/js/284748925.js"></script>
    
    <!-- OptinMonster -->
    <script src="https://assets.nypl.org/js/advocacy.js"></script>
    <!-- / OptinMonster -->
    
    <script>
      // Set up a few constants for search analytics
      var HEADER_SEARCH = 'HeaderSearch';
      var ENCORE_SEARCH_FORM = 'EncoreSearchForm';
      var ENCORE_ADVANCED_SEARCH_FORM = 'EncoreAdvancedSearchForm';
      var DIRECT_LINK = 'DirectLink';
      var MISSING_SEARCHED_FROM = 'MissingSearchedFrom';
      var MISSING_TIMESTAMP = 'MissingTimestamp';
      var UNKNOWN = 'Unknown';
    
      //Use the non conflict method to import js-cookie. We will use the library for sending GA events
      var jsCookies = (function () {
        try {
          return Cookies.noConflict();
        } catch(err) {
          console.log('js-cookie does not exist.');
    
          return undefined;
        }
      })();
    
      var recapHelper = {
        encoreAdditionalHideLocations: [
          {
            text: 'OFFSITE'
          },
          {
            text: 'Request in Advance'
          },
          {
            text: 'Reference'
          }
        ],
    
        hideLocations: [
          {
            "text": "SASB - Milstein Division"
          },
          {
            "text": "SASB M1 - General Research"
          },
          {
            "text": "SASB M2 - General Research"
          },
          {
            "text": "SASB M2 - General Research Room 315"
          },
          {
            "text": "SASB M2 - Milstein Division"
          },
          {
            "text": "SASB M1 - Art & Architecture"
          },
          {
            "text": "SASB M2 - Art and Architecture"
          },
          {
            "text": "SASB - Manuscripts & Archives"
          },
          {
            "text": "Schomburg Center - Manuscripts & Archives"
          },
          {
            "text": "Schomburg Center - Photographs & Prints"
          },
          {
            "text": "Schomburg Center - Research & Reference"
          },
          {
            "text": "SASB M1 - Periodicals and Microforms"
          },
          {
            "text": "SASB M2 - Dorot Jewish Division"
          },
          {
            "text": "SASB M1 - Dorot Jewish Division"
          },
          {
            "text": "SASB - Rare Book Collection"
          },
          {
            "text": "SASB M2 - General Research Room"
          },
          {
            "text": "SASB - General Research"
          },
          {
            "text": "SASB - Berg Collection"
          },
          {
            "text": "SASB - Pforzheimer Collection"
          },
          {
            "text": "SASB M1 - Milstein Division"
          },
          {
            "text": "Reserve Film and Video Adult Fiction"
          },
          {
            "text": "Performing Arts Research Collections"
          },
          {
            "text": "SASB M2 - Microforms Rm 119"
          },
          {
            "text": "SASB M2 - Map Division - Room 117"
          },
          {
            "text": "SASB - Dorot Jewish Division"
          }
        ],
    
        getHideLocations: function () {
          return recapHelper.hideLocations.concat(recapHelper.encoreAdditionalHideLocations)
        },
    
        isHideLocation: function (location) {
          var allHideLocations = recapHelper.getHideLocations()
    
          for (var index in allHideLocations) {
            if (location.search(allHideLocations[index].text) !== -1) {
              return true
            }
          }
    
          return false
        },
    
        isHoldsExist: function (availabilityMessageSelector) {
          if (jQuery(availabilityMessageSelector).closest('.ItemsContainer').find('.holdsMessage').length) {
            return true
          }
    
          return false
        },
    
        hideBibRequestButton: function(selector) {
          jQuery('head').append('<style type="text/css">' + selector + '{display: none}</style>')
        },
    
        isNonResearch: function(text) {
          return !recapHelper.isHideLocation(text);
        },
    
        hasNonResearchItems: function() {
          const pathname = window.location.pathname;
          if (pathname.includes("/record/") && !pathname.includes("/search/")) { //need to check we are on a record show page instead of search page
            const itemTables = document.getElementsByClassName('itemTable');
            if (itemTables.length !== 0) {
              const itemTable = itemTables[0];
              const rows = Array.from(itemTable.getElementsByTagName('tr')).slice(1);
              return rows.map(function(row){return row.innerText}).some(function(text){return recapHelper.isNonResearch(text)});
            }
          }
        },
    
        hideEncoreRequestButtons: function () {
          // This is a bib page
          if (jQuery('#moreDetailsAnyComponent').length) {
            var allLocationsMatchedHideLocation = false
    
            jQuery.each(jQuery('.itemTable:last').find('tr').find('td:first'), function (index, value) {
              if (recapHelper.isHideLocation(jQuery(value).text().trim())) {
                allLocationsMatchedHideLocation = true
              } else {
                allLocationsMatchedHideLocation = false
                return false
              }
            })
    
            if (allLocationsMatchedHideLocation) {
              recapHelper.hideBibRequestButton('.citationButtons')
            }
            // This is a search page
          } else {
            jQuery.each(jQuery('.availabilityMessage'), function (index, selector) {
              if (recapHelper.isHideLocation(jQuery(selector).text().trim()) && !recapHelper.hasNonResearchItems()) {
                var divId = jQuery(selector).closest('.searchResult').attr('id')
                recapHelper.hideBibRequestButton('#' + divId + ' .citationButtons')
              }
            })
          }
        },
    
        initializePage: function () {
          recapHelper.hideEncoreRequestButtons()
        }
      }
    
      function rebuildNativeClassNameMethod () {
        document.getElementsByClassName = function (search) {
          var d = document, elements, pattern, i, results = []
          // IE 8 feature detection for document.querySelectorAll
          if (d.querySelectorAll) {
            return d.querySelectorAll("." + search)
          }
          // IE6, IE7 feature detection for document.evaluate
          if (d.evaluate) {
            pattern = ".//*[contains(concat(' ', @class, ' '), ' " + search + " ')]"
            elements = d.evaluate(pattern, d, null, 0, null)
            while ((i = elements.iterateNext())) {
              results.push(i)
            }
          } else {
            elements = d.getElementsByTagName("*")
            pattern = new RegExp("(^|\\s)" + search + "(\\s|$)")
            for (i = 0; i < elements.length; i++) {
              if (pattern.test(elements[i].className)) {
                results.push(elements[i])
              }
            }
          }
          return results
        }
      }
    
      function defer (method) {
        if (window.jQuery) {
          method()
        } else {
          setTimeout(function () {
            defer(method)
          }, 50)
        }
      }
    
      function swapFavicon (ico) {
        var favicon
    
        if (document.querySelectorAll) {
          favicon = document.querySelectorAll("[rel='shortcut icon']")[0]
          if (favicon) {
            favicon.href = ico
          }
        }
      }
    
      function addNewArrivalsLink (text, link) {
        var url = link || 'https://www.nypl.org/books-music-dvds/new-arrivals/'
        var urlText = text || 'Browse new arrivals'
        jQuery('#introPage .searchContent')
          .append('<span style="display:inline-block;float:left;padding:1em 1.5em;margin:4em 0 1em .2em;width:90%;">' +
            '<a style="font-size:22px;text-decoration:underline;" href="' + url + '">' + urlText + '</a>' +
            '</span>')
      }
    
      function swapTitle (t) {
        document.title = t
      }
    
      function getRedirectUri (redirectUri) {
        return (redirectUri.search('http') == -1) ?
          window.location.protocol + '//' + window.location.hostname + redirectUri : redirectUri
      }
    
      function getOAuthBaseUrl (type) {
        var ssoBaseUrl = 'https://login.nypl.org/auth/'
        if (type === 'login') {
          return ssoBaseUrl + 'login?redirect_uri='
        }
    
        if (type === 'logout') {
          return ssoBaseUrl + 'logout?redirect_uri='
        }
        return ssoBaseUrl
      }
    
      function rewriteLinkWithOAuthService (element, baseUri, redirectUri) {
        var redirectUriString = redirectUri || jQuery(element).attr('href')
    
        if (element && baseUri && redirectUriString) {
          jQuery(element).attr('href', baseUri + encodeURIComponent(getRedirectUri(redirectUriString)))
        }
      }
    
      function rewriteEncoreHoldLinks () {
        var holdLinkFragment = '/Sdologin'
    
        jQuery('.requestButton a').each(function () {
          // Rewrite the Encore Hold links only if a match exists for the fragment string
          if (jQuery(this).attr('href').search(holdLinkFragment) !== -1) {
            rewriteLinkWithOAuthService(this, getOAuthBaseUrl('login'), jQuery(this).attr('href'))
          }
        })
      }
    
      function rewriteLoginLogoutLinks () {
        // Login links
        var loginLinks = jQuery('#userLoginLinkComponent,#userLoginLinkComponent_0,#GenericLink,#GenericLink_0')
        // Logout links
        var logoutLinks = jQuery('#patronLogoutLinkComponent,#patronLogoutLinkComponent_0,#patronLogoutLink1Component')
        // Login/Logout URIs
        oAuthLoginBaseUri = getOAuthBaseUrl('login')
        oAuthLogoutBaseUri = getOAuthBaseUrl('logout')
    
        // Clear Encore Dojo Click Events
        jQuery('.loginLogoutLink').each(function () {
          jQuery(this).attr('onclick', '').unbind('click')
        })
    
        loginLinks.each(function() { rewriteLinkWithOAuthService(this, oAuthLoginBaseUri) })
        logoutLinks.each(function() { rewriteLinkWithOAuthService(this, oAuthLogoutBaseUri) })
      }
    
      // The function to send the GA event for tracking Search Result's click through
      function sendClickthroughGAEvent(value, searchedFrom, clickedTarget, contextmenuClick, keyedClick, callback) {
        // Default values
        clickedTarget = (typeof clickedTarget !== 'undefined') ?  clickedTarget : UNKNOWN;
    
        // This will return empty string if the selector matches no elements
        var searchTerm = jQuery('[id^="baseDirectionInsertComponent"]>span.searchTerm').text();
    
        // Adjust the clickedTarget with extra data
        if (contextmenuClick) {
          clickedTarget += 'Contextmenu';
        } else if (keyedClick) {
          clickedTarget += 'Keyed';
        }
    
        // Set the event's dimensions
        var dimensionsObject = {
          dimension1: searchedFrom,
          dimension2: 'Encore',
          dimension3: clickedTarget,
          dimension4: 'NotSet',
          dimension5: 'NotSet',
        };
    
        ga(
          'send', 'event', 'Search', 'Clickthrough', searchTerm, value ? value : 0, dimensionsObject,
          {hitCallback: callback}
        );
    
      }
    
      // The function to send the GA event for tracking QuerySent events (typically when they've not already been sent
      //  on form submit)
      function sendQuerySentGAEvent(searchTerm, searchedFrom) {
    
        // Set the event's dimensions
        var dimensionsObject = {
          dimension1: searchedFrom,
          dimension2: 'Encore',
          dimension4: 'NotSet',
          dimension5: 'NotSet',
        };
    
        // using default 'value' of 0, though it is not relevant to a QuerySent event
        ga('send', 'event', 'Search', 'QuerySent', searchTerm, 0, dimensionsObject);
    
      }
    
      // Returns true if current url is the first page of search results
      function isFirstPageOfSearchResults() {
        var regEx = /__P([\d,]+)__/;
        var searchString = location.href;
        var matches = searchString.match(regEx);
    
        // No pagination term in the URL
        if (matches === null) {
          return true;
        }
    
        // We have a pagination term � need to see what page it is for
        var pagination_elements = matches[1].split(',');
    
        // Compound pagination for the first page (e.g., '__P0,13__')
        if (pagination_elements[0] === '0') {
          return true;
        }
    
        // Is not first page
        return false;
    
      }
    
      // Get the value from a URL query
      function getCurrentURLQueryValue(key) {
        return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]" + encodeURIComponent(key).replace(/[\.\+\*]/g, "\\$&") + "(?:\\=([^&]*))?)?.*$", "i"), "$1"));
      }
    
      // setPreviousSearchTerm (from Encore's JS) stores search term, and returns false if query is unchanged
      //   since the last time it was run. Wrapping it for readability.
      function isQueryUnchanged() {
        return typeof setPreviousSearchTerm !== 'undefined' && !setPreviousSearchTerm();
      }
    
      function isQueryBlank() {
        var queryElement = document.getElementById('searchString');
        return (queryElement && queryElement.value.trim() === '')
      }
    
      // This function allows us to define a function to be used as a callback, which will
      //   also set that function to execute after timeout, in case the callback is not called
      function createFunctionWithTimeout(callback, opt_timeout) {
        var called = false;
        function fn() {
          if (!called) {
            called = true;
            callback();
          }
        }
        setTimeout(fn, opt_timeout || 1000);
        return fn;
      }
    
      //Some helper functions for changing SCC links
    
      // This grabs all the rows representing offsite items
      // from the item table on a show page
      function isValidRow(element) {
        return element.children[0]
          && element.children[0].textContent
          && element.children[0].textContent.includes("OFFSITE")
          && element.children[0].children
          && element.children[0].children[0]
          && element.children[1]
          && element.children[1].children[0]
          && element.children[1].children[0].id
          && element.children[2];
      }
    
      function Row(element) {
        this.link = element.children[0].children[0];
        this.id = element.children[1].children[0].id.split("i")[1];
        this.status = element.children[2].innerText;
      }
    
      function getRows() {
        return Array.from(document.getElementsByTagName("tr"))
          .filter(function(tr){ return isValidRow(tr) })
          .map(function(tr){ return new Row(tr) });
      }
    
      function getLocationCode(row) {
        if (!row.link || !row.link.onclick) {
          return '';
        }
        const functionString = row.link.onclick.toString();
        const match = functionString.match(/popupLocationFunction\('(\w*)/)
        return match && match[1] ? match[1] : ''
      }
    
      // We replace offsite links when the item is 1) Available, and 2) Not at a
      // non-requestable location (the list of non-requestable locations is below)
      // for the origin of this list see: https://docs.google.com/document/d/1uL07vvZNzrtgWpNGZxZ6CzHhhjd8WUCAPVs8IdRxaco/
      function linkShouldBeReplaced(row) {
        let locationCode = this.getLocationCode(row);
        let nonRequestable = [
          "rcca9",
          "rccb8",
          "rccb9",
          "rccd8",
          "rccd9",
          "rcce8",
          "rcce9",
          "rccf8",
          "rccf9",
          "rcmb8",
          "rcmb9",
          "rcmf8",
          "rcmf9",
          "rcmg8",
          "rcmg9",
          "rcml8",
          "rcmo2",
          "rcmq2",
          "rcmr2",
          "rcms2",
          "rcpd8",
          "rcpd9",
          "rcpf2",
          "rcpr9",
          "rcpt8",
          "rcxx2"
        ];
        return row.status.includes('AVAILABLE') && !nonRequestable.includes(locationCode);
      }
    
      // Used by addSCCLink to replace the old link
      function replaceLink(row, url) {
        row.link.innerText = 'OFFSITE -- Request in Advance';
        row.link.href = 'https://platform.nypl.org/api/v0.1/items/sierra-nypl/' + row.id + '/catalog-redirect?fromUrl=' + url;
        row.link.removeAttribute("onclick");
      }
    
      // Whenever we have a link to a requestable offsite item, we replace the text with
      // 'OFFSITE -- Request in Advance' and change the link to go to SCC
      function addSCCLink(url) {
        getRows().forEach(function(row) {
          if(linkShouldBeReplaced(row)) {
            replaceLink(row, url);
          }
        });
      }
    
      rebuildNativeClassNameMethod();
    
      defer(function () {
        jQuery(document).ready(function () {
    
          swapFavicon("//ux-static.nypl.org/images/favicon.ico")
          swapTitle("NYPL Catalog")
    
          // We run the setPreviousSearchTerm in our click handler now, so can unbind it here.
          var searchButtonInput = jQuery('[id^=searchImageSumbitComponent]')[0];
          if (searchButtonInput) { searchButtonInput.onclick = null; }
    
          jQuery("input[src='resources/gold/images/go_button.png']").attr({
            src: "//ux-static.nypl.org/images/magnifier.encore.v2.svg",
            height: "34",
            width: "34",
            style: "margin-top: 6px"
          })
    
          // QWIDGET POP-UP
          jQuery('.customLibraryLinks a[href="http://www.nypl.org/ask-librarian"]').click(function () {
            var path = jQuery(this).attr('href')
            window.open(path, "qwidget", "status=no, toolbar=no, location=no, menubar=no, scrollbars=no, resizable=no, width=190, height=360")
            window.name = "main"
            return false
          })
    
          // Add New Arrivals
          addNewArrivalsLink()
    
          // Rewrite all Encore Hold links
          rewriteEncoreHoldLinks()
          // Rewrite Encore login/logout links
          rewriteLoginLogoutLinks()
          // Add SCC links
          addSCCLink(window.location)
    
          // Hide research item request buttons
          recapHelper.initializePage()
    
          // Distinguish where the search request is coming from based on "searched_from" and "timestamp" queries
          var searchedFromDimensionValue = (function() {
            // Get current time when loaded
            var currentTimeStamp = new Date().getTime() || '';
            var searchedFrom = DIRECT_LINK;
            var searchedFromQuery = getCurrentURLQueryValue('searched_from');
            var timestampQuery = getCurrentURLQueryValue('timestamp');
            var searchedFromCookie = (jsCookies) ? jsCookies.get('encoreSearchedFrom') : undefined;
    
            if (!searchedFromQuery && !timestampQuery) {
              // Check the EncoreSearchForm cookie if no queries sent
              // If the cookie exists, the search should be requested from Encore Search or an unknown source
              if (searchedFromCookie) {
                if (searchedFromCookie === ENCORE_SEARCH_FORM || searchedFromCookie === ENCORE_ADVANCED_SEARCH_FORM) {
                  searchedFrom = searchedFromCookie;
                } else {
                  searchedFrom = UNKNOWN;
                }
              }
    
              return searchedFrom;
            }
    
            if (!searchedFromQuery) {
              searchedFrom = MISSING_SEARCHED_FROM;
    
              return searchedFrom;
            }
    
            if (!timestampQuery) {
              searchedFrom = MISSING_TIMESTAMP;
    
              return searchedFrom;
            }
            // If the "timestamp" indicates the result and search pages have different generated time more than 1 min, that means the result page is from a direct link
            if ((currentTimeStamp - timestampQuery) > 60000) {
              searchedFrom = DIRECT_LINK;
            } else {
              if (searchedFromQuery === 'header_search') {
                searchedFrom = HEADER_SEARCH;
              } else {
                searchedFrom = UNKNOWN;
              }
            }
    
            return searchedFrom;
          })();
    
          // If we're on the first search page, and we don't know where the search came from, send a retroactive QuerySent event
          if (
            (location.href.indexOf('/iii/encore/search/') !== -1) &&
            isFirstPageOfSearchResults() &&
            ([DIRECT_LINK, MISSING_SEARCHED_FROM, MISSING_TIMESTAMP, UNKNOWN].includes(searchedFromDimensionValue))
          ) {
            sendQuerySentGAEvent(jQuery('#searchString').val(), searchedFromDimensionValue);
          }
    
          // Add click event listeners to HTML elements for sending GA Search ClickThrough events
          var addGAClickThroughListeners = (function() {
            // The selector for search result item
            var resultItemClassName = '.gridBrowseContent2.searchResult';
            // Tell if this is the first ClickThrough on this page
            var isFirstClickThrough = true;
    
            // Check if we find any results
            if (jQuery(resultItemClassName).length) {
              // Find the index of the result item that is clicked
              var indexOfResultItem = function (resultElement) {
                var index = jQuery(resultElement).closest(resultItemClassName).index(resultItemClassName);
                return (typeof index === 'number') ? index + 1 : 0;
              }
              // The set of the ClickTargets and their selectors for jQuery's use
              var clickTargets = [
                { name: 'Hold', selector: 'a.button.secondaryAction' },
                { name: 'BibDetail', selector: 'span.title' },
                { name: 'BibDetail', selector: '[id^=recordDisplayLinkComponent]' },
                { name: 'Author', selector: 'div.dpBibAuthor' },
                { name: 'SeeAll', selector: 'span.itemsContainerPopUpTrigger' },
                { name: 'Email', selector: 'a.toolbarItem.popInDialogTrigger' },
                { name: 'AdditionalLink', selector: 'span.addtlInfoItem' },
                { name: 'BookBag', selector: '[id^=addToBookCartLinkComponent]' },
                { name: 'Tag', selector: '[id^=loginLinkComponent]' },
                { name: 'EBookSample', selector: '[id^=overdriveSampleLinkComponent]' },
                { name: 'DownloadEContent', selector: 'div.DownloadOverdrive' },
              ];
    
              // Set the event listeners to the HTML element we want to hook up ClickThrough by different ClickTargets
              // We do not send Clickthrough events if we are not on the first page of search results
              if (isFirstPageOfSearchResults()) {
                clickTargets.forEach(function (target) {
                  if (jQuery(target.selector).length) {
                    // we need both isFirstClickThrough and isGAEventSent:
                    //   isFirstClickThrough is both a) making sure the browser doesn't navigate from the page
                    //   until the GA Clickthrough event has been sent, and b) making sure we only send one
                    //   clickthrough per SERP
                    //   isGAEventSent on the other hand is just to make sure we don't send multiple GA events
                    //
                    //  isFirstClickThrough == true && isGAEventSent == false: do preventDefault and allow ga()
                    //  isFirstClickThrough == true && isGAEventSent == true: do preventDefault and block ga()
                    //  isFirstClickThrough == false && isGAEventSent == true: don't preventDefault and block ga()
                    var isGAEventSent = false;
                    jQuery(target.selector).bind('click contextmenu', function (e) {
    
                      if (isFirstClickThrough) {
    
                        if (!isGAEventSent) {
                          isGAEventSent = true;
    
                          var isKeyedEvent = (e.ctrlKey || e.metaKey);
                          var isClickEvent = (e.type === 'click');
    
                          var defaultPrevented = false;
                          // If user has pressed a key we don't wanna block and recreate the event
                          //   because we are unable to regenerate the ctrl- or command-click correctly
                          if (isClickEvent && !isKeyedEvent) {
                            defaultPrevented = true;
                            e.preventDefault()
                          }
    
                          var ga_send_callback = createFunctionWithTimeout(function() {
                            isFirstClickThrough = false;
                            if (defaultPrevented) {
                              e.target.click();
                            }
                          });
    
                          sendClickthroughGAEvent(
                            indexOfResultItem(this),
                            searchedFromDimensionValue,
                            target.name,
                            !isClickEvent,
                            isKeyedEvent,
                            ga_send_callback
                          );
                        }
    
                      }
    
                    });
                  }
                });
              }
            }
          })();
    
          var addGAQuerySentListeners = (function () {
            var searchButtonTargets = [
              {
                name: ENCORE_SEARCH_FORM,
                selector: '[id^=searchImageSumbitComponent]'
              },
              {
                name: ENCORE_ADVANCED_SEARCH_FORM,
                selector: '[id^=searchSubmit]',
                searchTerm: '[id^=queryString]'
              }
            ];
    
            searchButtonTargets.forEach(function (target) {
              if (jQuery(target.selector).length) {
    
    
                var isFormSubmitted = false;
                var isGAResponseReceived = false;
                jQuery(target.selector).bind('click', function (e) {
    
                  // There are three phases in the lifecycle of the EncoreSearchForm:
                  //   1. Before the form button has been clicked (isFormSubmitted == false)
                  //   2. After form button clicked, but before response from GA event submissions is received
                  //      (isFormSubmitted == true && isGAResponseReceived == false)
                  //   3. After GA event response received (isGAResponseReceived == true) � this is when the
                  //      the request to Encore is initiated
                  //
                  // We always want to ignore clicks if the query is blank, BUT we do this by letting
                  //   the query go through and allowing Encore to handle it
                  // If query is not blank, we accept clicks in the first phase
                  // In the second, we want to ignore any form button clicks at all.
                  // And in the third, we want to ignore clicks if the query is unchanged from the form submitted.
                  // (Note, the requirement to allow new searches after the GA event is sent really only comes in
                  //   to play if Encore is _so_ slow that someone has time to modify their query and resubmit.)
                  if ((isFormSubmitted && !isGAResponseReceived)
                    || (isGAResponseReceived && isQueryUnchanged())) {
                    return false;
                  } else if (isQueryBlank()) {
                    // Blank query, so we don't handle it and leave it to Encore
                    return true;
                  } else if (isGAResponseReceived) {
                    // Already submitted to GA and received a response, so this is the hitCallback click
                    return true;
                  }
                  isFormSubmitted = true;
    
                  // Some browsers will not send the GA event on navigating from page
                  e.preventDefault();
    
                  // For EncoreSearchForm, we look for the text input closest to the search button.
                  // For EncoreAdvancedSearchForm, we need to look for the assembled queryString in the preview text input.
                  var searchTerm =  !target.searchTerm ? jQuery(this).closest('form').find('input[type=text]').val() : jQuery(target.searchTerm).val();
                  // Set the event's dimensions
                  var dimensionsObject = {
                    dimension1: target.name,
                    dimension2: 'Encore',
                    dimension4: 'NotSet',
                    dimension5: 'NotSet',
                  };
    
                  ga(
                    'send', 'event', 'Search', 'QuerySent', searchTerm, 0, dimensionsObject,
                    {hitCallback: createFunctionWithTimeout(function() {
                        isGAResponseReceived = true;
                        e.target.click();
                      })}
                  );
    
                  // Set the cookie of "encoreSearchedFrom" if the search request is sent from Encore's search buttons
                  if (jsCookies) {
                    jsCookies.set('encoreSearchedFrom', target.name, { path: '/' });
                  }
                });
              }
            });
    
            // Remove the exsiting cookie of "encoreSearchedFrom" after all the click events listeners are set, so it won't affect the next search
            if (jsCookies) {
              jsCookies.remove('encoreSearchedFrom', { path: '/' });
            }
          })();
        });
      });
    
      if (jQuery(window).width() < 991) {
        setInterval(function () {
          jQuery("iframe#accountContentIframe").contents().find(".patFuncPickup select").css({
            "font-size": "8px",
            "width": "60px"
          })
          jQuery("iframe#accountContentIframe").contents().find("..patFuncHeaders th").css({
            "font-size": "8px",
            "padding-right": "2px",
            "padding-left": "2px"
          })
          jQuery("iframe#accountContentIframe").contents().find(".patFuncTitle").css("font-size", "12px")
          jQuery("iframe#accountContentIframe").contents().find(".patFuncTitleMain").css("font-size", "12px")
          jQuery("iframe#accountContentIframe").contents().find(".patFuncStatus").css("font-size", "8px")
          jQuery("iframe#accountContentIframe").contents().find(".patFunc td").css("padding", "2px")
          jQuery("iframe#accountContentIframe").contents().find("#hold_form input").css({
            "display": "block",
            "margin-bottom": "10px"
          })
          jQuery("iframe#accountContentIframe").contents().find(".patFuncFreeze").css("padding-right", "0px")
          jQuery("iframe#accountContentIframe").contents().find(".patFuncArea a").css("margin-bottom", "10px")
        }, 2000)
      }
    
      (function () {
        var renewClicked = false;
        var renewButtonsFound = false;
    
        function renewClickedHandler () {
          if (renewClicked) {
            return false;
          }
          renewClicked = true;
          return true;
        }
    
        setInterval(function () {
          var $renewButtons = jQuery('#accountContentIframe').contents().find('span[id^=checkoutbuttons] input[name^=renew]')
    
          if ($renewButtons.length && !renewButtonsFound) {
            // First time we see the renew buttons, note we found them, set renewClicked false, and add handler
            renewButtonsFound = true;
            renewClicked = false;
            $renewButtons.click(renewClickedHandler);
    
          } else if (!$renewButtons.length && renewClicked) {
            // if there are no buttons, but renewClicked is true then we've navigated from page, so reset for another renew
            renewButtonsFound = false;
            renewClicked = false;
          }
        }, 2000);
    
      })()
    </script>
                        </div>
                    
                        <div id="bannertop">
                            <div id="bannerMenu">
                              <span class="myAccountInfo">
                               
         
            <span id="bookCartLinkAnyComponent">
                
                
                    <a id="bookCartLinkComponent_0" href="/iii/encore/bookcart?lang=eng&amp;suite=def">
                        My Book Bag (0 items)</a>
                
                <!--needed so IE updates asynch see  c1131611-->
                <span class="noTags">&nbsp;</span>
            </span>
        
     
                                 
         
          <!--we may need to separate our the image/alerts from the my account logic-->
          
             <span id="saveThisSearchAnyComponent">
                
             </span>
             <span class="alerts_update" id="patronAlertsUpdateAnyComponent">
                
                   <span class="myAccountBar">|</span>
                      <img width="20" src="local/images/alert.png" height="20" id="patronAlertsImageAnyComponent"></img>
                
             </span>
              
             
        
            <!--login area gold -->
            
    
            
    
                
                    
                        <span class="myAccountBar">|</span>
                        <a id="patronAccountExternalLinkComponent" class="myAccountLink" href="/iii/encore/myaccount?lang=eng&amp;suite=def">
                            My Account
                        </a>
                    
    
                    
                
    
                <span class="myAccountBar">|</span>
    
                <span id="patronLogoutLinkAnyComponent">
    
                    
    
                    
                        <!--Logout btn-->
                        <a id="patronLogoutLink1Component" title="You are currently signed in. Select to sign out." class="loginLogoutLink button button__login-logout" href="/iii/encore/PatronAccountPage,pageWrapperComponent.patronToolsComponent.patronAccountLoginComponent.patronLogoutLink1Component.sdirect?lang=eng&amp;suite=def" onclick="return tapestry.linkOnClick(this.href,'patronLogoutLink1Component', false)">
                            <span class="button__text" id="Insert_2">Logout</span>
                        </a>
                    
    
                </span>
            
    
            <!--logout dialog-->
            
            <!--end login area-->
        
    
          
      
       
       <!--alerts-->
        <span class="myAccountDet" id="myAccountDetAnyComponent">
              
                
                   <span id="alertsLabel">Alerts:</span>
                   
                      <br/>
                   
                      <span class="myAccountItems">
                         
                            
                               <a id="currentPatronRSSItemLinkComponent" href="/iii/encore/myaccount?lang=eng&amp;suite=def">
                                  Mar 06 20 - Materials due soon</a>
                            
                         
                      </span>
                                
                   
                   <span class="myAccountMore">
                      
                   </span>
                   
                
            
        </span>
       <!--end alerts area-->
    
                               </span>
                            </div>
                            <div class="encoreLogo"></div>
                        </div>
                        
                            
                
        <div id="searchbox" name="searchbox">
            <form method="post" action="/iii/encore/PatronAccountPage,queryComponent.searchFormComponent.sdirect" id="searchFormComponent">
    <div style="display:none;" id="searchFormComponenthidden"><input type="hidden" name="formids" value="If_5,searchString,If_0_2,If_7,searchImageSumbitComponent" />
    <input type="hidden" name="seedids" value="ZH4sIAAAAAAAAAIVUS27bMBB1geYmXnoRp10WBRzHQQTYaCC56DKY0COLCMVhyVFa90y9Wu/Q0ScoKSvNwjA1783vDYe//8wufs1m72cXnxYB/bNWOL9cODi2f4pqRxYtd2fLoC16OQcMQZNtT25gf/PgHPp15BEqNCY2PNLhlHxDwBvtUbEEy6yk5xguQaohm6OBlhBDlgrlteMdMuRYegxVmpl+rJvAVN8hHNBnZYyqGDnL+kj0tAbPW22f/tmXi6ycf0zAlU2aycqHS6FtTMD5h4S4E7VEofNUDtiT3ROZEJsPOjgDp/sO/eLa3kNWXiUNwjPuKx0KBK+qUSVt94UQerCtIO2/T7syUk346g7AOBGgg7O6rftV5w4e+Q7Fb8EeG0ELNDJeEp3v5WtqGkNApaixvKWjtm9r8ar/5iejt2DS4clwOu1lPD1b0lAzNcQxvDwP8nA14q3JltrX14ZUkrM+DUXdIE+L1Ku48ghpSxWEQeCx+RpYVTl+bzBwjqExE5xeq7woMsZ6UqwX7JaifZVH4N3n5cKjlRElMcbb44XDCWMs9xRnr9lM7IAUvKlBm1v5NR5fdqUc38cdefz/VW73iLXrH4Y2cnfZhmdgv9vGfkyum1caTax51/7ZLEVwn65It1siYB1Z/wLQsf4uTAUAAA==" />
    <input type="hidden" name="lang" value="eng" />
    <input type="hidden" name="suite" value="def" />
    <input type="hidden" name="reservedids" value="inst,lang,suite" />
    <input type="hidden" name="submitmode" value="" />
    <input type="hidden" name="submitname" value="" />
    <input type="hidden" name="If_5" value="F" />
    <input type="hidden" name="If_0_2" value="F" />
    <input type="hidden" name="If_7" value="T" />
    </div>
                <span class="searchText customHeader">
                    
                    
                        <label for="searchString">Search:</label>
                    
                </span>
                <span class="searchContent">
                    <div class="searchInput">
                        <!-- <div jwcid="autoCompleteIfComponent">  -->
                         
                        
                            <input type="text" name="searchString" value="" id="searchString" onfocus="return;" size="40" tabindex="0" />
                        
                    </div>
                    
                    <div id="advancedSearchLinkAnyComponent">
                        
                            <div class="advSearch">
                                <a id="advancedSearchLinkComponent" async="true" onclick="redirectToAdvancedSearch('https://browse.nypl.org:443/iii/encore/home?lang=eng&amp;suite=def&amp;advancedSearch=true'); return false;" updateComponents="$GenericLink_18@db5f3ee1[PatronAccountPage/queryComponent.advancedSearchLinkComponent]" href="javascript:;">
                                    Advanced Search
                                </a>
                            </div>
                        
                    </div>
                </span>
                <span class="searchSubmit">
                    <input type="image" name="searchImageSumbitComponent" src="resources/gold/images/go_button.png" id="searchImageSumbitComponent" tabindex="0" onclick="return setPreviousSearchTerm()" alt="Search" width="40" height="40" />
                </span>
            </form>
             
        </div>
    
        <script type="text/javascript">
            var previousSearchTerm = '';
    
            function setPreviousSearchTerm() {
                var flag = false,
                    element = document.getElementById('searchString'),
                    searchText;
    
                if ( !element ) {
                    return flag;
                }
    
                searchText = element.value.trim();
    
                if( searchText !== '' && previousSearchTerm.trim() === searchText ) {
                    flag = false;
                } else {
                    flag = true;
                }
    
                previousSearchTerm = searchText;
    
                return flag;
            }
    
            tapestry.addOnLoad(function(e) {
                jQuery(document).trigger('iii:autocomplete:customise:start');
            });
    
            if(document.getElementById('searchString'))
                document.getElementById('searchString').focus();
            else if(document.getElementById('targetAuto'))
                document.getElementById('targetAuto').focus();
        </script>
    
    
                            
        
    
            
                        
                        <div id="contentColumn">
                            
        <div class="validationError">
            <ul class="errorList">
                
            </ul>
        </div>
    
                             <!-- Leave popInDialogComponent at the bottom of the PageWrapperComponent span -->
            
            <!-- MUST INCLUDE IN ALL EncorePages that use dialogs begin-->
            <div id="popInDialogUpdateAnyComponent">
                
          <div id="popInContentWrapper">
            <span id="closeXButton" class="closeXButton" onclick="closePopInDialog(true)"></span>
              <span id="dialogLoadSpinner" width="20" height="20"></span>
              
          </div>
     
    
            </div>
            <div id="dialogComponent">
                
            </div>
            <!-- MUST INCLUDE IN ALL EncorePage that use dialogs end-->
                
            
        <div id="batchStarterAnyComponent"></div>
    
        
            <div class="accountSummary">
                <div class="accountSummaryColumn">
                    <h2>
                        LASTNAME, FIRSTNAME
                    </h2>
                    
                    <div class="accountActions">
                        
                           <a id="modInfoPopupWindowLinkComponent" class="button primaryAction" onclick="patronPopupWindow('https://ilsstaff.nypl.org:443/patroninfo*eng~Sdefault/7777777/modpinfo')" href="javascript:;">
                               My Settings</a>
                         
                        
                           <a id="modPinPopupWindowLinkComponent" onclick="patronPopupWindow('https://ilsstaff.nypl.org:443/patroninfo*eng~Sdefault/7777777/newpin')" href="javascript:;">Change PIN</a>
                        
                        
                    </div>
                </div>
        
                
                    <div class="accountSummaryColumn">
                        <h4>Home Library:</h4>
                        Mid-Manhattan Library at 42nd Street
                    </div>
                
        
                <div class="accountSummaryColumn">
                    <h4>Email:</h4>
                    EMAIL@DOMAIN.COM
                </div>
                
                
                    <div class="accountExpirationMessageColumn">
                    
                </div>
                
            
            </div>
        
           <a id="refreshHoldsMenuDirectLinkComponent" style="display:none;visibility:hidden;" href="/iii/encore/PatronAccountPage,refreshHoldsMenuDirectLinkComponent.sdirect?lang=eng&amp;suite=def&amp;updateParts=accountFunctionsMenuAnyComponent" onclick="return tapestry.linkOnClick(this.href,'refreshHoldsMenuDirectLinkComponent', false)">holds refresh</a>
           <a id="refreshBookingsMenuDirectLinkComponent" style="display:none;visibility:hidden;" href="/iii/encore/PatronAccountPage,refreshBookingsMenuDirectLinkComponent.sdirect?lang=eng&amp;suite=def&amp;updateParts=accountFunctionsMenuAnyComponent" onclick="return tapestry.linkOnClick(this.href,'refreshBookingsMenuDirectLinkComponent', false)">bookings refresh</a>
           
           
        <div class="accountFunctions" id="accountFunctionsMenuAnyComponent">
            <div class="accountFunctionsMenu">
                
                    
                        
                        
                            
                            
                                
                                    <span class="currentAccountFunction">
                                        My Holds
                                        
                                    </span>
                                
                                
                            
                        
                    
                    
                    
                    
                
                    
                        
                        
                            
                            
                                
                                
                                        <a id="webpacFuncDirectLinkComponent" href="/iii/encore/PatronAccountPage,patronPageMenuComponent.webpacFuncDirectLinkComponent.sdirect?lang=eng&amp;sp=OrO0ABX5yACdjb20uaWlpLndlYnVpLmRwLlBhdHJvbkZ1bmN0aW9uQ29uc3RhbnQAAAAAAAAAABIAAHhyAA5qYXZhLmxhbmcuRW51bQAAAAAAAAAAEgAAeHB0AAlDSEVDS09VVFM%3D&amp;suite=def" onclick="return tapestry.linkOnClick(this.href,'webpacFuncDirectLinkComponent', false)">
                                            My Checkouts
                                            </a>
                                
                            
                        
                    
                    
                    
                    
                
                    
                    
                    
                        
                        
                            <a id="patronEbookDirectLinkComponent" class="triggerScrollFunctionIntoView" href="/iii/encore/PatronAccountPage,patronPageMenuComponent.patronEbookDirectLinkComponent.sdirect?lang=eng&amp;suite=def" onclick="return tapestry.linkOnClick(this.href,'patronEbookDirectLinkComponent', false)">
                                My eBooks</a>
                        
                    
                    
                
                    
                        
                        
                            
                            
                                
                                
                                        <a id="webpacFuncDirectLinkComponent_0" href="/iii/encore/PatronAccountPage,patronPageMenuComponent.webpacFuncDirectLinkComponent.sdirect?lang=eng&amp;sp=OrO0ABX5yACdjb20uaWlpLndlYnVpLmRwLlBhdHJvbkZ1bmN0aW9uQ29uc3RhbnQAAAAAAAAAABIAAHhyAA5qYXZhLmxhbmcuRW51bQAAAAAAAAAAEgAAeHB0AAdNWV9MSVNU&amp;suite=def" onclick="return tapestry.linkOnClick(this.href,'webpacFuncDirectLinkComponent_0', false)">
                                            My Lists
                                            </a>
                                
                            
                        
                    
                    
                    
                    
                
                    
                        
                        
                            
                            
                                
                                
                                        <a id="webpacFuncDirectLinkComponent_1" href="/iii/encore/PatronAccountPage,patronPageMenuComponent.webpacFuncDirectLinkComponent.sdirect?lang=eng&amp;sp=OrO0ABX5yACdjb20uaWlpLndlYnVpLmRwLlBhdHJvbkZ1bmN0aW9uQ29uc3RhbnQAAAAAAAAAABIAAHhyAA5qYXZhLmxhbmcuRW51bQAAAAAAAAAAEgAAeHB0AAVGSU5FUw%3D%3D&amp;suite=def" onclick="return tapestry.linkOnClick(this.href,'webpacFuncDirectLinkComponent_1', false)">
                                            Fines/Fees
                                            </a>
                                
                            
                        
                    
                    
                    
                    
                
                    
                        
                        
                            
                            
                                
                                
                                        <a id="webpacFuncDirectLinkComponent_2" href="/iii/encore/PatronAccountPage,patronPageMenuComponent.webpacFuncDirectLinkComponent.sdirect?lang=eng&amp;sp=OrO0ABX5yACdjb20uaWlpLndlYnVpLmRwLlBhdHJvbkZ1bmN0aW9uQ29uc3RhbnQAAAAAAAAAABIAAHhyAA5qYXZhLmxhbmcuRW51bQAAAAAAAAAAEgAAeHB0AAhNRVNTQUdFUw%3D%3D&amp;suite=def" onclick="return tapestry.linkOnClick(this.href,'webpacFuncDirectLinkComponent_2', false)">
                                            Messages
                                            </a>
                                
                            
                        
                    
                    
                    
                    
                
            </div>
            
         </div>
    
           
        
           <div id="accountFunctionsContentWrapper" class="accountFunctionsContentWrapper">
                <div class="accountFunctionsContent" id="contentAreaAnyComponent">
                    <div class="patron-function-print-link-container">
                        <a href="javascript:void(0);" id="patron-function-print-link">
                            Print
                        </a>
                    </div>
                    
                        <iframe src="https://ilsstaff.nypl.org:443/dp/patroninfo*eng~Sdefault/7777777/holds" name="accountContentIframe" width="750" frameborder="0" id="accountContentIframe" height="500" onload="restylePatronAccountIframeContent(this, &quot;https://browse.nypl.org:443/iii/encore&quot;)"></iframe>
                        
                    
                    
                    
                    
                    
                    <div class="patron-function-overlay">
                        <div class="patron-function-loading-message">
                            Loading
                            <span class="patron-function-loading-image"></span>
                        </div>
                    </div>
                    
                </div>
            </div>
        
            
            
            
                    
            <!-- Needed for patron reviews -->
                    
              
            
                    
            <!-- $Rev: 220103 $ $Date: 2013-10-16 20:36:10 +0000 (Wed, 16 Oct 2013) $ -->
    
            <!-- $Rev: 220103 $ $Date: 2013-10-16 20:36:10 +0000 (Wed, 16 Oct 2013) $ -->
    
        
                            
                                
                            
                             <div class="footerCustomArea">
                                    <script type="text/javascript"> var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try {var pageTracker = _gat._getTracker("UA-1420324-33"); pageTracker._trackPageview();} catch(err) {}</script>
                             </div>
                        </div>
                        <!-- empty div used to push down sticky footer -->
                        <div class="pageWrapperPush"></div>
                    </div>
                    <div id="footerArea">
                        
    <a href="javascript:;" onclick="document.location.hash='bannertop'" class="footerBackToTopLink">
        Back to top
    </a>
    <div class="footerContentContainer">
        <div class="footerContent">
            <div class="footerColumn1">
                <h3 class="customHeader">Library Links</h3>
                <ul>
                     
                    
                </ul>
                <span class="customLibraryLinks">
                    <ul><li><a href="http://www.nypl.org/help/library-card" target="_blank">Get a Library Card</a></li><li><a href="http://www.nypl.org/get-help/how-to/manage-card" target="_blank">Manage Your Library Card</a></li><li><a href="http://www.nypl.org/ask-nypl/ebookcentral" target="_blank">Download an E-Book</a></li><li><a href="http://www.nypl.org/help/computers-internet-and-wireless-access/reserving-computer" target="_blank">Reserve a PC</a></li><li><a href="http://www.nypl.org/ask-librarian" target="_blank">AskNYPL</a></li></ul>
                </span>
                <div class="footerBrandingArea">
                    
                </div>
            </div>
            <div class="footerColumn2">
                <h3 class="customHeader">Search Tools</h3>
                    <ul>
                        <span id="footerAdvancedSearchLinkAnyComponent">
                            
                                <li><a id="advancedSearchLinkComponent_0" onclick="redirectToAdvancedSearch('https://browse.nypl.org:443/iii/encore/home?lang=eng&amp;suite=def&amp;advancedSearch=true'); return false;" href="javascript:;">Advanced Search</a></li>    
                            
                        </span>
                        <li><a id="encoreLinkComponent" href="https://browse.nypl.org:443/iii/encore/?suite=def">Start a New Search</a></li>
                        <!-- The updateBookCartLinkAnyComponent span is needed to update this link asynchronously - C1207749 -->
                        
                            <li><span id="updateBookCartLinkAnyComponent">
         
            <span id="bookCartLinkAnyComponent_0">
                
                
                    <a id="bookCartLinkComponent_2" href="/iii/encore/bookcart?lang=eng&amp;suite=def">
                        My Book Bag (0 items)</a>
                
                <!--needed so IE updates asynch see  c1131611-->
                <span class="noTags">&nbsp;</span>
            </span>
        
    </span></li>
                        
                        <li>
        
            <!--login area gold -->
            
    
            
    
                
                    
                        <span class="myAccountBar">|</span>
                        <a id="patronAccountExternalLinkComponent_0" class="myAccountLink" href="/iii/encore/myaccount?lang=eng&amp;suite=def">
                            My Account
                        </a>
                    
    
                    
                
    
                <span class="myAccountBar">|</span>
    
                <span id="patronLogoutLinkAnyComponent_0">
    
                    
                        <!--Logout link-->
                        <a id="patronLogoutLinkComponent" class="loginLogoutLink" href="/iii/encore/PatronAccountPage,pageWrapperComponent.footerComponent.patronAccountLoginComponent.patronLogoutLinkComponent.sdirect?lang=eng&amp;suite=def" onclick="return tapestry.linkOnClick(this.href,'patronLogoutLinkComponent', false)">
                            Logout
                        </a>
                    
    
                    
    
                </span>
            
    
            <!--logout dialog-->
            
            <!--end login area-->
        
    </li>
                    </ul>
            </div>
            <div class="footerColumn3">
                
          
    
    
                 
            </div>
            <div class="footerColumn4">
                
        <div id="recentSearchesAnyComponent">
             
        </div>
    
                
        <div id="recentlyViewedItemsAnyComponent">
            
        </div>
    
            </div>
        </div>
        
            <div id="copyright">
                Powered by <a href="http://www.iii.com/products/sierra/encore/" target="_blank"></a>  &#169; Innovative Interfaces, Inc.
                   
                        <span class="myAccountBar">|</span>
                        <a id="mobileSiteLinkComponent" href="https://browse.nypl.org/iii/encore/myaccount?lang=eng&amp;preferredSite=mobile">Mobile site</a>
                   
            </div>
            
    
    </div>
    
                    </div>
                </span>
                
                
                <script>   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');    ga('create', 'UA-1420324-3', 'auto');   ga('send', 'pageview');  </script>
                <!-- DO NOT PLACE ANYTHING BELOW googleAnalyticsComponent -->
            <script type="text/javascript"><!--
    tapestry.addOnLoad(function(e) {
    new mojo.tooltip.Persist({
              label: dojo.byId("myAccountDetAnyComponent").innerHTML,
              connectId: "patronAlertsImageAnyComponent",
              position:['below', 'above'],
              addtnlclass:"patronRSSAlerts",
              showShadow:true,
          tooltipContentElemId:"myAccountDetAnyComponent"
            });
    dojo.require("tapestry.form");tapestry.form.registerForm("searchFormComponent");
    
    tapestry.form.clearProfiles('searchFormComponent'); tapestry.form.registerProfile('searchFormComponent',{"required":["searchString"],"searchString":{"required":["You must enter a value for Search."],"constraints":["You must enter at least 1 characters."]},"constraints":{"searchString":[[tapestry.form.validation.isText,{minlength:1}]]}});
    tapestry.dialog.synchronizeDialogState("dialogComponent", {"id":"dialogComponent"}, false);
            
                dijit.byId("dialogComponent").hide();
    for( var i = 0; i < de.length; i++ ) {
                doBind(de[i]);
            }
    tapestry.cleanConnect("batchStarterAnyComponent", "ajaxOnloadStart", "event1823681746");
                    tapestry.event1823681746=function( event ){
                        
                        var content={beventname:"ajaxOnloadStart", bcomponentidpath:"PatronAccountPage/ajaxBatchStarterUrgentComponent.batchStarterAnyComponent", bcomponentid:"batchStarterAnyComponent"};
                       
                        tapestry.event.buildEventProperties( event, content, arguments);
                        if (!content["beventtarget.id"]) {
                            content["beventtarget.id"]="batchStarterAnyComponent";
                        }                                 
                        
                        tapestry.bind("/iii/encore/home?component=ajaxBatchStarterUrgentComponent.batchStarterAnyComponent&lang=eng&page=PatronAccountPage&service=directevent&session=T&suite=def", content);
                    };
                    tapestry.connect("batchStarterAnyComponent", "ajaxOnloadStart", "event1823681746");
    $j("#accountFunctionsMenuAnyComponent .triggerScrollFunctionIntoView").click(function() {setTimeout(function() {scrollUpToTopOfElement("#accountFunctionsContentWrapper")}, 300)});
    setPatronOverlayTimeout();
    removePatronOverlayTimeout();
    printIframeContents();});
    // --></script></body>
        </html>
    <!-- Render time: ~ 139 ms -->
    
    
    
        <!-- Only BLOCKS can be defined below this point, or else Google Anlytics will mess things up -->
                    
        
        
        
        
        
        
        
            
        
        
        
        
        
        
             
           
            
         
        
        
    
    